function DataGrid(){this._ops={id:"",obj:null,data:null,head:null,list:null,toolBar:null,styles:null,paging:{num:8,page:1},edit:true,click:null,fixed:false,bdCollapse:true,headpadding:"0px",checkIndex:0,max:32,cleanTip:"",hasID:false,hasHead:true,hasSelBox:true,spBlank:false,spAutoEdit:false,sortFunc:null,sortType:"down",sortName:""};this._table=null;this._list={id:"",obj:""};this._set={IDWidth:"50px",editWidth:"92px",headClassName:"dataGrid_header_tr"};this._event={editTr:-1,sortName:"",sortable:false,state:"default"};this._state={isBlank:false,colNum:0,headCells:[{width:0}],headWidth:0};this._types={str:"",ip:"0.0.0.0",mask:"0.0.0.0",dns:"0.0.0.0",gateway:"0.0.0.0",mac:"00-00-00-00-00-00"};this._pgList={id:"",obj:"",num:5,page:1,listMarginLeft:19,macAddrIdPre:"macAddr",ipAddrIdPre:"ipAddr",selectPre:"selConGrid",listDivStr:"listDiv",listArrowLStr:"listArrowL",listArrowRStr:"listArrowR",ListSpanClassName:"ListSpan",ListSpanSClassName:"listSpanS",plcClassName:"pageListContent"};this._toolBar={delSelBtn:null,clrSelBtn:null};if(typeof DataGrid.prototype.init!="function"){DataGrid.prototype.init=function(a){this._optionsInit(a);this._create()};DataGrid.prototype.getPageNum=function(){return this._pgList.page};DataGrid.prototype.getNumPerPage=function(){this._ops.paging.num};DataGrid.prototype.getDataLen=function(){return this._getListLen()};DataGrid.prototype.refresh=function(a){if(a==undefined){a=1}this._refresh(a)};DataGrid.prototype.setDataSource=function(a){if(a instanceof Array){this._ops.data=a}};DataGrid.prototype.getActiveTr=function(){return this._getEditTr()};DataGrid.prototype.getActiveTrIndex=function(){return this._getTrIndex(this._getEditTr())};DataGrid.prototype._create=function(){this._getTableObj();if(this._table==null){return}this._setToolBar();this._tableSet();this._headCreate();this._contentCreate(this._ops.paging.page);this._flushBtn()};DataGrid.prototype._eventStateSet=function(b,a){if(true!=a&&this._event.state!="default"){return false}this._event.state=b;return true};DataGrid.prototype._eventStateGet=function(){return this._event.state};DataGrid.prototype._getEditTr=function(){return this._event.editTr};DataGrid.prototype._setEditTr=function(a){this._event.editTr=a};DataGrid.prototype._getBlankDataObj=function(d){var c=this._ops.list;var a=this._ops.data;for(var b in c){d[c[b].name]=""}};DataGrid.prototype._fillEditRow_IP=function(f,c,b,d,e){var a=el("input");a.className="ipInput text";a.id=this._pgList.ipAddrIdPre+c+this._ops.id+b;a.style.textAlign="center";if(d!=undefined&&d.length!=0){a.value=d}a.maxLength=e.maxLength?e.maxLength:15;if(undefined!=e.size){a.size=e.size}f.appendChild(a)};DataGrid.prototype._fillEditRow_IPs=function(e,a,f,b,d){var g=d.name.split(" "),h,i;var c=createAddrDiv(this._pgList.ipAddrIdPre+"Div"+a+this._ops.id+f+g[0]);e.appendChild(c);genAddrInput(c.id,this._pgList.ipAddrIdPre+a+this._ops.id+f+g[0],ipStr,b[g[0]],smallAddrInputClassType);h=el("label");h.innerHTML="-";e.appendChild(h);setStyle(h,{cssFloat:"left",width:"5px",lineHeight:"18px",height:"10px",margin:"0px 0px 0px 1px"});c=createAddrDiv(this._pgList.ipAddrIdPre+"Div"+a+this._ops.id+f+g[1]);e.appendChild(c);genAddrInput(c.id,this._pgList.ipAddrIdPre+a+this._ops.id+f+g[1],ipStr,b[g[1]],smallAddrInputClassType)};DataGrid.prototype._fillEditRow_MAC=function(f,c,b,d,e){var a=el("input");a.className="ipMac text";a.id=this._pgList.macAddrIdPre+c+this._ops.id+b;a.style.textAlign="center";if(d!=undefined&&d.length!=0){a.value=d.toUpperCase()}a.maxLength=e.maxLength?e.maxLength:17;if(undefined!=e.size){a.size=e.size}f.appendChild(a)};DataGrid.prototype._fillEditRow_Select=function(d,a,g,j,b){var h=el("div");var f=el("span");var l=el("span");var i=el("i");var e=this._pgList.selectPre+a+this._ops.id+g;var c,k=13;h.className="gridSelectCon "+b.className;d.appendChild(h);f.id=e;f.className="select";h.appendChild(f);l.className="value hsGridValue";f.appendChild(l);i.className="arrow";f.appendChild(i);c=parseInt(getNodeDefaultView(h,"width"))-i.offsetWidth-k-parseInt(getNodeDefaultView(f,"marginLeft"));l.style.width=c+"px";if(undefined==j||j.length==0){j=(b.defaultValue==undefined?0:b.defaultValue)}selectInit(e,b.options,j,b.func,b.maxSelSize)};DataGrid.prototype._fillEditRow_Checkbox=function(f,c,b,d,e){var a=el("input");a.type="checkbox";a.className="";f.appendChild(a);if(d!=undefined&&d.length!=0){a.checked=(d==true)}};DataGrid.prototype._fillEditRow_Radio=function(f,c,b,d,e){var a=el("input");a.type="radio";a.className="";f.appendChild(a);if(d!=undefined&&d.length!=0){a.checked=(d==true)}};DataGrid.prototype._fillEdit_Ports=function(h,d,c,b,g){var e,f=g.name.split(" ");var a=b[f[0]];if(typeof a!="undefined"){if(b[f[1]]!=a){e=a+"-"+b[f[1]]}else{e=a}}this._fillEditRow_Str(h,d,c,e,g)};DataGrid.prototype._fillEditRow_Input=function(e,b,d,c){var a=el("input");a.className="text";a.style.textAlign="center";a.style.width=c==undefined?"":(c+"px");e.appendChild(a);if(b!=undefined&&b.length!=0){a.value=b}if(d.maxLength!=undefined){a.maxLength=d.maxLength}if(d.size!=undefined){a.size=d.size}return a};DataGrid.prototype._fillEditRow_Str=function(g,b,a,c,f){var d=parseInt(getNodeDefaultView(g,"paddingLeft"))+parseInt(getNodeDefaultView(g,"paddingRight"));var e=g.offsetWidth-d-40;this._fillEditRow_Input(g,c,f,e)};DataGrid.prototype._fillEditRow_Speed=function(c,a,f,k,b){var j=el("label"),e,l,g="10px",i,d;var h=parseInt(getNodeDefaultView(c,"paddingLeft"))+parseInt(getNodeDefaultView(c,"paddingRight"));l=(b.unit==undefined?" Kb/s":" "+b.unit);j.innerHTML=l;j.style.fontSize=g;d=c.offsetWidth;i=this._fillEditRow_Input(c,k,b);c.appendChild(j);e=d-h-40-j.offsetWidth;i.style.width=e+"px"};DataGrid.prototype._fillEditRow_PopVig=function(c,a,d,f,b){var i,g,j=b.popObj;var e,h;if(f.length==0){g=el("input");g.className="popVigBtn";g.value=btn.config;g.type="button";g.onclick=function(){b.click(a)};c.appendChild(g)}else{i=el("span");i.className="dataGridPopVigDes";h=(j.subList[f])[j.name];i.title=h;e=this._calcShowSize(d,b);h=getStrInMax(h,e);i.innerHTML=htmlEscape(h);i.onclick=function(){b.click(a)};c.appendChild(i);c.setAttribute(b.popObj.indexDes,f)}};DataGrid.prototype._fillEditRow_EditBtns=function(b,f,c){var e=document.createElement("input");var d=document.createElement("input");var a=this._ops.toolBar;d.className="cancel";d.type="button";d.value=btn.cancel;this._toolCancelHandle(d);e.className="edit";e.type="button";e.value=btn.saveTbl;this._toolSaveHandle(e,a.save,a.asyn);f.appendChild(d);f.appendChild(e)};DataGrid.prototype._fillEditRow=function(h,a,e){var g=this._ops.list,l,k,i,b;var c,j,d=this;this._setEditTr(h);if(this._ops.hasSelBox==true){c=h.insertCell(-1);j=document.createElement("input");j.type="checkbox";j.onclick=function(){d._singelSelHandle(j,d)};c.appendChild(j);if(this._ops.hasHead==false){setStyle(c,{width:this._set.IDWidth})}}if(this._ops.hasID==true){c=h.insertCell(-1);c.innerHTML=this._getListLen()-a}for(var f in g){c=h.insertCell(-1);l=g[f];i=l.type;k=e[l.name];if(l.edit==false){c.innerHTML=k?k:"";continue}switch(i){case"btn":break;case"mask":case"dns":case"gateway":case"ip":this._fillEditRow_IP(c,a,f,k,l);break;case"mac":this._fillEditRow_MAC(c,a,f,k,l);break;case"select":this._fillEditRow_Select(c,a,f,k,l);break;case"checkbox":this._fillEditRow_Checkbox(c,a,f,k,l);break;case"radio":this._fillEditRow_Radio(c,a,f,k,l);break;case"ports":this._fillEdit_Ports(c,a,f,e,l);break;case"ips":this._fillEditRow_IPs(c,a,f,e,l);break;case"speed":this._fillEditRow_Speed(c,a,f,k,l);break;case"popVig":this._fillEditRow_PopVig(c,a,f,k,l);break;case"time":case"timeP":case"str":default:this._fillEditRow_Str(c,a,f,k,l);break}}if(this._ops.edit==true){c=h.insertCell(-1);this._fillEditRow_EditBtns(e,c,a);if(this._ops.hasHead==false){setStyle(c,{width:this._set.editWidth})}}};DataGrid.prototype._getTrIndexInDataObj=function(b){var a=this._getTrIndex(b);var c=this._getDRL()-1;if(-1==a){return a}a=(this._ops.hasHead==true?(a-1):a);a=c-a;return a};DataGrid.prototype._resetID=function(){var d=this._table.rows;var a=d.length;var e=0,g=0;var c=this._eventStateGet();var f;if(this._ops.hasID==false){return}e=(this._ops.hasSelBox==true?1:0);if(this._ops.hasHead==true){g++;a--}if("add"==c){g++;a--}for(var b=0;b<a;b++){f=d[b+g].cells[e];if(undefined==f){continue}f.innerHTML=b+1}};DataGrid.prototype._getDRL=function(){return(this._ops.hasHead==true?(this._table.rows.length-1):this._table.rows.length)};DataGrid.prototype._flushBtn=function(){var b=this._getDRL();var a;a=this._toolBar.addBtn;if(a!=null){a.className=(this._ops.max==b?"addUn":"add")}a=this._toolBar.delAllBtn;if(a!=null){a.className=(b>0?"delAll":"delAllUn")}};DataGrid.prototype._blankData=function(b){var c=this._ops.data[b],a;for(var d in c){a=c[d];if(a instanceof Array){c[d].splice(0,a.length)}else{c[d]=""}}};DataGrid.prototype._toolAddHandle=function(a,b,d){var e=this,c;a.onclick=function(){var g=e._table,f,m,j;var l=e._ops.id,i={},k=0;if(e._eventStateSet("add")!=true){return}if(e._ops.max==e._getDRL()){e._event.state="default";return}e._content_delete_blank();if(e._ops.hasHead==true){k=1}j=g.insertRow(k);m=e._getDRL()-1;f=m+1;j.id="dataGridAdd";j.setAttribute("dataGridLastIndex",m);e._getBlankDataObj(i);e._fillEditRow(j,k,i);function h(n){if(false==n){return}if(e._ops.hasSelBox==true){j.cells[0].innerHTML=""}if(e._ops.hasID==true){j.cells[1].innerHTML=""}e._disableEditBtns();e._flushBtn();e._pageList(f,1)}if(b!=undefined){if(true==d){b(h)}else{h(b())}}else{h(true)}}};DataGrid.prototype._getDomChildNode=function(l,b,g){var h=l.childNodes;var a=[],f=0,c;var m=b.split(" ");var k=m[0],j=m[1];for(var d=0,e=h.length;d<e;d++){c=h[d];if(c.tagName.toLowerCase()==k){if(j!=undefined&&c.type==j){a[f]=c;f++}else{if(j==undefined){a[f]=c;f++}}}}if(g!=undefined){return a[g]}return a[0]};DataGrid.prototype._toolSaveHandle_Edit=function(d,b,a,c){return this._toolSaveHandle_SaveData(d,b,a,c)};DataGrid.prototype._toolSaveHandle_SaveData=function(b,u,z,f){var w=this._ops.list,x,d,t,A;var s,q,c,y,j;var r,a,n,p,m;var k=0,g=false,l;var v,i;for(var h in w){x=w[h];d=x.type;A=x.name;s=this._pgList.ipAddrIdPre+z+this._ops.id+h;if(this._ops.hasID==true){k++}if(this._ops.hasSelBox==true){k++}if(false==x.edit){continue}switch(d){case"ip":j=id(s);t=j.value;if(ENONE!=(l=checkIp(t))){return{result:l,target:j}}break;case"ips":q=A.split(" ");j=id(s+q[0]);if(ENONE!=(l=checkIp(j.value))){return{result:l,target:j}}j=id(s+q[1]);if(ENONE!=(l=checkIp(j.value))){return{result:l,target:j}}break;case"mask":j=id(s);t=j.value;if(ENONE!=(l=checkMask(t))){return{result:l,target:j}}break;case"dns":j=id(s);t=j.value;if(ENONE!=(l=checkIp(t))){return{result:l,target:j}}break;case"gateway":j=id(s);t=j.value;if(ENONE!=(l=checkIp(t))){return{result:l,target:j}}break;case"mac":s=this._pgList.macAddrIdPre+z+this._ops.id+h;j=id(s);t=j.value;if(ENONE!=(l=checkMac(t))){return{result:l,target:j}}break;case"popVig":i=b.cells[k];v=this._getDomChildNode(i,"span");if(null==v){t=""}else{t=parseInt(i.getAttribute(x.popObj.indexDes))}break;case"select":a=this._getDomChildNode(b.cells[k],"div");r=this._getDomChildNode(a,"span");j=r;t=r.value;break;case"checkbox":p=this._getDomChildNode(b.cells[k],"input checkbox");j=p;t=p.checked==true?1:0;break;case"radio":n=this._getDomChildNode(b.cells[k],"input radio");j=n;t=n.checked==true?1:0;break;case"ports":m=this._getDomChildNode(b.cells[k],"input");j=m;t=m.value;break;case"time":case"timeP":case"str":default:m=this._getDomChildNode(b.cells[k],"input");j=m;t=m.value;break}if(d=="ports"){q=A.split(" ");if(undefined!=u[q[0]]){f[q[0]]=u[q[0]];f[q[1]]=u[q[1]]}c=t.split("-");if(c.length==2){if(c[0].length!=0&&false==(/\D/g.test(c[0]))){c[0]=parseInt(c[0])}else{c[0]="error"}if(c[1].length!=0&&false==(/\D/g.test(c[1]))){c[1]=parseInt(c[1])}else{c[1]="error"}if(c[0]!=u[q[0]]||c[1]!=u[q[1]]){g=true}u[q[0]]=c[0]>c[1]?c[1]:c[0];u[q[1]]=c[0]>c[1]?c[0]:c[1]}else{if(c.length==1){y=c[0];if(0!=y.length&&false==(/\D/g.test(y))){y=parseInt(y)}if(y!=u[q[0]]||y!=u[q[1]]){g=true}u[q[1]]=u[q[0]]=y}else{return{result:EINVPORTFMT,target:j}}}}else{if(d=="ips"){var o=id(s+q[0]).value;var e=id(s+q[1]).value;if(undefined!=u[q[0]]){f[q[0]]=u[q[0]];f[q[1]]=u[q[1]]}u[q[0]]=o>e?e:o;u[q[1]]=o>e?o:e}else{if(u[A]!=undefined){f[A]=u[A]}if(t!=u[A]){g=true}u[A]=t}}}return{result:ENONE,isChanged:g,target:j}};DataGrid.prototype._toolSaveHandle_Add=function(d,b,c){if(d==undefined){return}var a=this._getTrIndex(d);this._state.isBlank=false;return this._toolSaveHandle_SaveData(d,b,a,c)};DataGrid.prototype._toolSaveHandle_stateChange=function(e,b){var d,c,a;a=(this._ops.hasSelBox==true&&e.cells[0].innerHTML.length!=0);if(a==true){d=e.cells[0].childNodes[0];c=d.checked}this._trCleanCell(e);this._contentFill(e,this._ops.list,true,b,this._ops.data[b],this._getDRL());if(a==true){e.cells[0].childNodes[0].checked=c}};DataGrid.prototype._toolSaveHandle=function(c,d,k){var f=this,b,g,h,i,l;var a=this._ops.data,e={};var j=true;c.onclick=function(){b=f._eventStateGet();function m(){for(var o in e){a[h][o]=e[o]}}switch(b){case"default":return;case"edit":g="edit";i=f._getEditTr();h=f._getTrIndexInDataObj(i);e={};l=f._toolSaveHandle_Edit(i,a[h],f._getTrIndex(i),e);break;case"add":g="add";h=f._getDRL()-1;i=f._getEditTr();a[h]=(a[h]==undefined?{}:a[h]);e={};l=f._toolSaveHandle_Add(i,a[h],e);break}if(l.result!=ENONE){switch(l.result){case EINVNET:showAlert(errStr.ipAddrNetErr,l.target);break;case EINVIP:showAlert(errStr.ipAddrErr,l.target);break;case EINVIPFMT:showAlert(errStr.ipAddrFmtErr,l.target);break;case EINVGROUPIP:showAlert(errStr.ipAddrGroupErr,l.target);break;case EINVLOOPIP:showAlert(errStr.ipAddrLoopErr,l.target);break;case EINVMACFMT:showAlert(errStr.macFmtErr,l.target);break;case EINVMACZERO:showAlert(errStr.macZeroErr,l.target);break;case EINVMACBROAD:showAlert(errStr.macBroadErr,l.target);break;case EINVMACGROUP:showAlert(errStr.macGroupErr,l.target);break;case EINVMASK:showAlert(errStr.maskErr,l.target);break;case EINVPORTFMT:showAlert(errStr.portIllegalFmtErr,l.target);break;default:break}m();return}if(g=="edit"&&l.isChanged!=true){f._toolSaveHandle_stateChange(i,h);f._event.state="default";i.id="";f._enableEditBtns();f._setEditTr(null);return}function n(o){if(o==false){m()}else{f._enableEditBtns();f._setEditTr(null);f._toolSaveHandle_stateChange(i,h);f._event.state="default";i.id="";if(g=="add"){f._resetID();i.removeAttribute("dataGridLastIndex")}}}if(d!=undefined){if(k==true){d(g,h,n)}else{n(d(g,h))}}else{n(true)}}};DataGrid.prototype._toolSaveAllHandle=function(a,b,c){a.onclick=function(){if(undefined!=b){b()}}};DataGrid.prototype._toolDelHandle=function(a,b,c){var d=this;a.onclick=function(){var u=d._table;var p=d._table.rows,e;var v,s="",k,t;var h=p.length;var x,r=[];var q,w=0;var o=d._ops.data;var f=d._getTrIndex(d._getEditTr());var n=false,j=0;var i=0,l="";function g(){function y(A){if(false==A){return}x=s.split("-");j=r[0];if(z==x.length+j-1){j--;j=j||0}else{if(p[j].style.display=="none"){j=r[0]}}for(var B=0,z=x.length;B<z;B++){q=x[B];r[B]=r[B]-B;u.deleteRow(r[B]);d._blankData(q);v=o[q];o.push(v);o.splice(q,1)}i=d._ops.hasHead==true?(p.length-1):p.length;d._state.isBlank=(i>0?false:true);i=d._eventStateGet()=="add"?i-1:i;w=parseInt(j/(d._ops.paging.num))+(j%(d._ops.paging.num)>0?1:0);w=w<1?1:w;d._pageList(i,w);if(n==true){d._eventStateSet("default",true);d._setEditTr(null)}if(d._ops.hasID==true){d._resetID()}d._flushBtn()}if(undefined==b){y(true)}else{if(true==c){b(s,y)}else{y(b(s))}}}if(this.className=="delSelUn"){return}k=(d._ops.hasHead==true?1:0);t=p.length-k;e=(d._eventStateGet()=="add"?-1:0);t+=e;for(var m=k;m<h;m++){tr=p[m];if(p[m].cells.length==1){continue}v=p[m].cells[0].childNodes[0];if(v==null){continue}if(v.checked==true){s+=(t-m-e+"-");r.push(m);if(f==m){n=true}}}i=s.length;if(i==0){return}s=s.substring(0,i-1);l=d._ops.cleanTip;if(0!=l.length&&undefined!=l&&t==s.split("-").length){showConfirm(l,function(y){if(true==y){g()}})}else{g()}}};DataGrid.prototype._toolCancelHandle=function(a,c){var f=this,e,b,d;a.onclick=function(){e=f._eventStateGet();table=f._table;switch(e){case"default":break;case"edit":tr=f._getEditTr();index=f._getTrIndexInDataObj(tr);f._toolSaveHandle_stateChange(tr,index);break;case"add":b=table.rows.length-1;table.deleteRow((f._ops.hasHead==true?1:0));b=(f._ops.hasHead==true?(b-1):b);if(b==0){f._state.isBlank=true;f._content_blank();break}f._pageList(b,1);break}f._enableEditBtns();f._setEditTr(null);f._event.state="default";f._flushBtn()}};DataGrid.prototype._toolAbleHandle=function(a,b,e,c){var d=this;a.onclick=function(){var g=d._ops.data;var l=d._ops.list;var n=d._table.rows;var m,f,k=0,i,j;function h(o){if(false==o){return}for(var p in l){m=l[p];if(m.type=="checkbox"&&m.edit==false){f=m.name;i=p;break}}if(f!=undefined){k=d._getListLen();for(var q=0;q<k;q++){g[q][f]=(e=="enable"?1:0)}k=n.length;if(d._ops.hasID==true){i++}for(var p=(d._ops.hasHead==true?1:0);p<k;p++){j=d._getDomChildNode(n[p].cells[i],"input checkbox");j.checked=(e=="enable"?true:false)}}}if(d._state.isBlank==true){return}if(b==undefined){h(true)}else{if(true==c){b(e,h)}else{h(b(e))}}}};DataGrid.prototype._toolEnableHandle=function(a,b,c){this._toolAbleHandle(a,b,"enable",c)};DataGrid.prototype._toolDisableHandle=function(a,b,c){this._toolAbleHandle(a,b,"disable",c)};DataGrid.prototype._toolCleanHandle=function(a,b,c){var d=this;a.onclick=function(){var h=d._ops.data;var g,f;if(((d._state.isBlank==true)&&(d._event.state=="default"))){return}g=label.delAllConfirm;f=d._ops.cleanTip;if(undefined!=f&&0!=f.length){g=f}function e(i){if(true==i){d._blankData(0);h.splice(1,h.length-1);d._state.isBlank==true;d._refresh(1);d._setEditTr(null);d._event.state="default";d._flushBtn();d._pageList(0,1)}}showConfirm(g,function(i){if(d._state.isBlank==false||d._event.state!="add"){if(i==false){return}if(b==undefined){e(true)}else{if(true==c){b(e)}else{e(b())}}}})}};DataGrid.prototype._toolRefreshHandle=function(a,b,c){var d=this;a.onclick=function(){var e=d._ops.data;function f(g){if(true==g){d._cleanList(d._ops.id+"pagIngList");d._refresh(1);d._setEditTr(null);d._event.state="default";d._flushBtn()}}if(undefined==b){return}if(true==c){b(f)}else{f(b())}}};DataGrid.prototype._toolEmailHandle=function(a,b,c){a.onclick=function(){if(undefined!=b){b()}}};DataGrid.prototype._toolClearAllHandle=function(a,b,c){var d=this;a.onclick=function(){var e=d._ops.data;function f(g){if(false==g){return}d._cleanList(d._ops.id+"pagIngList");d._refresh(1);d._setEditTr(null);d._event.state="default";d._flushBtn()}if(undefined==b){f(true)}if(true==c){b(f)}else{f(b())}}};DataGrid.prototype._toolClearSelHandle=function(a,b,c){var d=this;a.onclick=function(){var o=d._table.rows,e;var r="",i,s;var g=o.length;var w,q=[];var n=d._ops.data;var t=d._ops.list;var f=d._getTrIndex(d._getEditTr());var l=false;var h=0,v={};var m,x,u,p;if(this.className=="clrUn"){return}i=(d._ops.hasHead==true?1:0);s=o.length-i;e=(d._eventStateGet()=="add"?-1:0);s+=e;for(var k=i;k<g;k++){tr=o[k];if(o[k].cells.length==1){continue}u=o[k].cells[0].childNodes[0];if(u==null){continue}if(u.checked==true){r+=(s-k-e+"-");q.push(k)}}if(r.length==0){return}r=r.substring(0,r.length-1);function j(y){if(false==y){return}s=t.length;for(var B=0;B<s;B++){x=t[B];if(x.clear==true){v[x.name]={clear:true,clearValue:x.clearValue}}}w=r.split("-");s=w.length;for(var B=0;B<s;B++){u=n[B];for(var z in u){x=v[z];if(x!=undefined&&x.clear==true){u[z]=x.clearValue}}}s=q.length;i=1;i+=(d._ops.hasID?1:0);for(var B=0;B<s;B++){u=q[B];h=o[u].cells.length;for(var A=i;A<h;A++){x=v[t[A-i].name];if(x!=undefined&&x.clear==true){if(f==u){o[u].cells[A].value=x.clearValue}else{o[u].cells[A].innerHTML=x.clearValue}o[u].cells[0].childNodes[0].checked=false}}}d._selectAll();d._flushBtn()}if(undefined==b){j(true)}else{if(true==c){b(r,j)}else{j(b(r))}}}};DataGrid.prototype._setToolBar=function(){var h=this._ops.toolBar;var j,k,a,b,c,f,i,g;if(h==null){return}j=$("#"+h.id+" span");for(var e=0,d=j.length;e<d;e++){a=j[e];k=a.getAttribute("gridType");b=h[k];g=h.asyn;switch(k){case"add":this._toolBar.addBtn=a;this._toolAddHandle(a,b,g);break;case"save":this._toolSaveHandle(a,b,g);break;case"saveAll":this._toolSaveAllHandle(a,b,g);break;case"delAll":a.className="delAll";this._toolBar.delAllBtn=a;this._toolCleanHandle(a,b,g);break;case"delSel":a.className="delSelUn";this._toolBar.delSelBtn=a;this._toolDelHandle(a,b,g);break;case"cancel":this._toolCancelHandle(a,b);break;case"enable":this._toolEnableHandle(a,b,g);break;case"disable":this._toolDisableHandle(a,b,g);break;case"refresh":this._toolRefreshHandle(a,b,g);break;case"email":this._toolEmailHandle(a,b,g);break;case"clrSel":this._toolBar.clrSelBtn=a;this._toolClearSelHandle(a,b,g);break;case"clrAll":this._toolClearAllHandle(a,b,g);break;case"edit":break}}};DataGrid.prototype._getListLen=function(){var f=this._ops.list,e=this._ops.data,d,c=0,a;var b=f[this._ops.checkIndex].name;d=this._types[f[this._ops.checkIndex].type];for(var g in e){a=e[g][b];if(a===d||a===undefined||(a.toString()).length==0){break}c++}return c};DataGrid.prototype._content_delete_blank=function(){var a;if(this._ops.spBlank==false){return}if(this._state.isBlank==true){this._state.isBlank=false;a=(this._ops.hasHead==true?1:0);this._table.deleteRow(a)}};DataGrid.prototype._content_blank=function(){var d,e,c=this._table,a=this._ops.head;var b=0;if(this._ops.spBlank==false){return}d=c.insertRow(-1);e=d.insertCell(-1);e.colSpan=this._state.colNum;if(this._ops.hasHead==false){setStyle(e,{width:c.offsetWidth+"px"})}e.innerHTML=label.blankTable};DataGrid.prototype._editable=function(){var c=this._ops.list,b;if(this._ops.edit==false){return false}for(var a in c){b=c[a].edit;if(b==true){return true}}return false};DataGrid.prototype._timeHandle=function(b,c){if(4294967295==b){c.innerHTML=label.forever}else{var a=new Date();a.setHours(parseInt(b/(60*60)),parseInt(b%(60*60)/60),parseInt(b%(60*60)%60),0);c.innerHTML=a.toTimeString().substring(0,8)}};DataGrid.prototype._timePHandle=function(c,e){if(4294967295==c){e.innerHTML=label.forever}else{var a,d,b;a=parseInt(c/(60*60));d=parseInt(c%(60*60)/60);b=parseInt(c%(60*60)%60);if(a<10){a="0"+a}if(d<10){d="0"+d}if(b<10){b="0"+b}e.innerHTML=a+":"+d+":"+b}};DataGrid.prototype._selectHandle=function(b,a,d){var h=b.options;var c=a[b.name];var j=b.blankStr;var g;if(h[0].value!=undefined){for(var e=0,f=h.length;e<f;e++){if(h[e].value==c){g=h[e].str;d.innerHTML=(g==j?"":htmlEscape(g));return}}}else{g=h[c].str;d.innerHTML=(g==j?"":htmlEscape(g))}};DataGrid.prototype._strSelectHandle=function(h,b,g){var a=h.options,c;var e=parseInt(b[h.name]),f="";for(var d in a){c=a[d];if(c.value!=undefined){if(e==parseInt(c.value)){f=c.str;break}}else{if(e==d){f=c.str;break}}}g.innerHTML=htmlEscape(f)};DataGrid.prototype._checkBoxHandle=function(f,b,e,c){var a=el("input"),d=b[f.name];a.type="checkbox";a.checked=(d==true);if(f.func!=undefined){a.onclick=function(h){h=h||window.event;var i=this,g=b[f.name];b[f.name]=this.checked==true?1:0;if(f.func(c,{obj:i})==false){b[f.name]=g;this.checked=g==1?true:false}stopProp(h)}}e.appendChild(a)};DataGrid.prototype._radioHandle=function(f,b,e,c){var a=el("input"),d=b[f.name];a.type="radio";a.checked=(d==true);if(f.func!=undefined){a.onclick=function(h){h=h||window.event;var i=this,g=b[f.name];b[f.name]=this.checked==true?1:0;if(f.func(c,{obj:i})==false){b[f.name]=g;this.checked=g==1?true:false}}}e.appendChild(a)};DataGrid.prototype._btnHandle=function(h,b,g,c){var f=h.subType,e;var a=el("input"),d=this;a.type="button";a.value=h.value?h.value:"";if(f!=undefined){switch(f){case"bind":e=b[h.name];if(e==true){a.className=h.classNameUn;a.disabled=true}else{a.className=h.className}a.onclick=function(){h.click(c,{obj:this})};break;case"radio":e=b[h.name];if(e==true){a.className=h.className}else{a.className=h.classNameUn}a.onclick=function(){$("#"+d._ops.id+" input."+h.className).attr("class",h.classNameUn);this.className=h.className;h.click(c,{obj:this})};a.onfocus=function(){this.blur()};break;case"switch":e=b[h.name];if(undefined==h.onStr&&undefined==h.offStr){h.onStr=label.WDSDHCPOn;h.offStr=label.WDSDHCPOff}if(undefined==h.classNameUn){h.classNameUn=h.className}if(e==true){a.className=h.className;a.value=h.onStr}else{a.className=h.classNameUn;a.value=h.offStr}a.onclick=function(){if(true==h.click(c,{obj:this})){if(this.value==h.onStr){this.className=h.classNameUn;this.value=h.offStr}else{this.className=h.className;this.value=h.onStr}}};break}}else{a.className=h.className;a.onclick=function(){h.click(c,{obj:this})}}g.appendChild(a)};DataGrid.prototype._portsHandle=function(e,b,d){var c=e.name.split(" "),a;if(b[c[1]]!=b[c[0]]){d.innerHTML=b[c[0]]+(b[c[1]].length==0?"":" - "+b[c[1]])}else{d.innerHTML=b[c[0]]}};DataGrid.prototype._ipsHandle=function(e,b,d){var c=e.name.split(" "),a;if(b[c[1]]!=b[c[0]]){d.innerHTML=b[c[0]]+(b[c[1]].length==0?"":" - "+b[c[1]])}else{d.innerHTML=b[c[0]]}};DataGrid.prototype._popVigHandle=function(g,a,f,c){var b=a[g.name];var d,e;d=(g.popObj.subList[b])[g.popObj.name];e=this._calcShowSize(c,g);d=(d==undefined?"":d.toString());f.title=d;f.innerHTML=htmlEscape(getStrInMax(d,e))};DataGrid.prototype._signalHandle=function(h,b,g){var a=el("i"),d=el("i");var c=parseInt(b[h.name]);var f=3,e=3;a.className="signalCon";d.className="signal";c=isNaN(c)==true?0:c;d.style.width=f*c+e*(c-1)+"px";a.appendChild(d);g.appendChild(a)};DataGrid.prototype._speedHandle=function(d,a,c){var b=a[d.name];c.innerHTML=(parseInt(b)==0?label.disLimit:(b+"Kb/s"))};DataGrid.prototype._trCleanCell=function(c){var a=c.cells.length;try{c.innerHTML=""}catch(b){while(a>0){c.deleteCell(0);a=c.cells.length}}};DataGrid.prototype._trEdit=function(d){var c=this._ops.data;var b=false,a=-1;if(this._ops.hasSelBox==true){b=d.cells[0].childNodes[0].checked}this._trCleanCell(d);a=this._getTrIndexInDataObj(d);this._fillEditRow(d,this._getTrIndex(d),c[a]);if(this._ops.hasSelBox==true){d.cells[0].childNodes[0].checked=b}};DataGrid.prototype._getTrIndex=function(e){var d=this._table.rows,b=-1;if(null==e){return b}for(var c=(this._ops.hasHed==true?1:0),a=d.length;c<a;c++){if(e===d[c]){b=c;break}}return b};DataGrid.prototype._disableEditBtns=function(){$("table.dataGrid i.edit").toggleClass("edit").toggleClass("unedit")};DataGrid.prototype._enableEditBtns=function(){$("table.dataGrid i.unedit").toggleClass("unedit").toggleClass("edit")};DataGrid.prototype._editBtnClick=function(b,a){var d=this._ops.id;var c=this;b.onclick=function(){var f,h,e;var g=c._eventStateGet();switch(g){case"edit":if(c._ops.spAutoEdit==false){return}break;case"default":break;default:return}h=this.parentNode;if(a==true){c._eventStateSet("edit");if(c._ops.spAutoEdit==true){e=c._getEditTr();f=c._getTrIndexInDataObj(e);if(f!=-1&&g!="default"){c._trCleanCell(e);e.id="";c._contentFill(e,c._ops.list,true,f,c._ops.data[f],c._getDRL())}}else{c._disableEditBtns()}c._trEdit(h)}else{if(c._ops.click!=null){c._ops.click(c._getTrIndexInDataObj(h))}}}};DataGrid.prototype._editBtnHandle=function(d,c,a){var b=document.createElement("i");b.className="edit";this._editBtnClick(d,c);d.style.cursor="pointer";d.appendChild(b)};DataGrid.prototype._singelSelHandle=function(g,h){var f,e,d;var b=true,a=false;if(h._ops.hasHead==false){return}f=h._table.rows;e=f[0].cells[0].childNodes[0];d=f.length;if(g.checked==false){b=false}for(var c=1;c<d;c++){if(f[c].cells[0].innerHTML.length==0){continue}if(f[c].cells.length==1){e.checked=true;return}g=f[c].cells[0].childNodes[0];if(f[c].style.display!="none"&&g.checked==false){b=false}else{a=true}}e.checked=b;this._toolSelBtnState(a)};DataGrid.prototype._calcShowSize=function(a,e){var d,b;var c=parseInt($(this._table).css("font-size"));b=this._state.headCells[a].width;d=parseInt(b/(c*0.65));d=e.maxSize!=undefined?e.maxSize:d;return d};DataGrid.prototype._contentFill=function(j,h,c,g,a,d){var e,k,p,m=this._ops.head;var n,f=this;var l,i;if(this._ops.hasSelBox==true){e=j.insertCell(-1);n=document.createElement("input");n.type="checkbox";n.onclick=function(){f._singelSelHandle(n,f)};e.appendChild(n);if(this._ops.hasHead==false){setStyle(e,{width:this._set.IDWidth})}}if(this._ops.hasID==true){e=j.insertCell(-1);e.innerHTML=d-g;if(this._ops.hasHead==false){setStyle(e,{width:this._set.IDWidth.width+"px"})}}for(var o in h){var b=h[o];k=b.type;e=j.insertCell(-1);if(this._ops.hasHead==false){setStyle(e,{width:m[o].width+"px"})}if(b.styles!=null){setStyle(e,b.styles)}switch(k){case"btn":this._btnHandle(b,a,e,g);break;case"time":this._timeHandle(a[b.name],e);break;case"timeP":this._timePHandle(a[b.name],e);break;case"select":this._selectHandle(b,a,e);break;case"checkbox":if(b.edit==false){this._checkBoxHandle(b,a,e,g)}break;case"radio":if(b.edit==false){this._radioHandle(b,a,e,g)}break;case"strSelect":this._strSelectHandle(b,a,e);break;case"ports":this._portsHandle(b,a,e);break;case"ips":this._ipsHandle(b,a,e);break;case"speed":this._speedHandle(b,a,e);break;case"popVig":this._popVigHandle(b,a,e,o);break;case"signal":this._signalHandle(b,a,e);break;case"mac":i=a[b.name];e.innerHTML=i=(i==undefined?"":i.toString().toUpperCase());break;case"str":default:l=this._calcShowSize(o,b);i=a[b.name];i=(i==undefined?"":i.toString());if(true==b.igHTMLEscape){e.innerHTML=getStrInMax(i,l)}else{e.innerHTML=htmlEscape(getStrInMax(i,l))}e.title=i;if(b.className!=undefined){e.className=b.className}break}}if(this._ops.edit==true){e=j.insertCell(-1);this._editBtnHandle(e,c,g);if(this._ops.hasHead==false){setStyle(e,{width:this._set.editWidth})}}};DataGrid.prototype._refresh=function(e){var d=this._table,b=this._ops.hasHead==true?1:0;for(var c=0,a=d.rows.length;c<a;c++){if(d.rows[b]!=null){d.deleteRow(b)}}this._event.state="default";this._setEditTr(null);this._contentCreate(e);this._state.isBlank=(this._table.rows.length-b>0?false:true);this._IESixResize()};DataGrid.prototype._contentCreate=function(h){var k=this._ops.list,f=this._ops.data;var l,m=this._table,j=0,c=false;var g=this._ops.paging.num,a;var b=(h-1)*g,d;if(k==null){return}if(this._ops.hasHead==false&&this._ops.head==null){return}j=this._getListLen();if(j==0){this._state.isBlank=true;this._content_blank();this._cleanList(this._ops.id+"pagIngList");return}c=this._editable();j=j>this._ops.max?this._ops.max:j;b=j-1-b;d=b-g+1||0;for(var e=j-1;e>=0;e--){if(e>b||e<d){l=m.insertRow(-1);l.insertCell(-1);l.style.display="none"}else{a=f[e];l=m.insertRow(-1);this._contentFill(l,k,c,e,a,j)}}this._flushBtn();this._pageList(j,h)};DataGrid.prototype._toolSelBtnState=function(a){var c=this._ops.toolBar;var b;if(c==null){return}b=this._toolBar.delSelBtn;if(b!=null){b.className=(a==true?"delSel":"delSelUn")}b=this._toolBar.clrSelBtn;if(b!=null){b.className=(a==true?"clrEn":"clrUn")}};DataGrid.prototype._selectAll=function(){var d=this._table.rows;var b=d.length;var f=d[0].cells[0].childNodes[0].checked;var c,e;f=this._ops.hasHead==true?d[0].cells[0].childNodes[0].checked:false;e=this._ops.hasHead==true?1:0;for(var a=e;a<b;a++){if(d[a].cells.length==1){continue}if(d[a].cells.length==0){continue}c=d[a].cells[0].childNodes[0];if(c==null){continue}if(d[a].style.display!="none"){c.checked=f}else{c.checked=false}}this._toolSelBtnState(f)};DataGrid.prototype._selectAllCreate=function(a,c){var b=document.createElement("input");var d=this;b.type="checkbox";b.className="selAllBox";b.onclick=function(){d._selectAll()};return b};DataGrid.prototype._headCreate=function(){var e=this._ops.head,k=this;var a,f,s=this._table,n;var r=this._ops.list,d,m;var g,q,l,b;var j="DataGridSortHeadCellId";var h=this._state.headCells;var o=0,t=this._state.headWidth;if(this._ops.hasHead==false){return}if(e==null){if(s.rows[0]!=undefined){this._state.colNum=s.rows[0].cells.length}return}a=s.insertRow(-1);a.className=this._set.headClassName;this._state.colNum=this._ops.list.length;this._event.sortName=this._ops.sortName;n=parseInt(s.offsetWidth);if(this._ops.hasSelBox==true){f=a.insertCell(-1);f.appendChild(this._selectAllCreate());setStyle(f,{width:this._set.IDWidth,textAlign:"center"});n-=(parseInt(this._set.IDWidth)+1);this._state.colNum++}if(this._ops.hasID==true){f=a.insertCell(-1);f.innerHTML=g.ID;setStyle(f,{width:this._set.IDWidth,textAlign:"center"});n-=(parseInt(this._set.IDWidth)+1);this._state.colNum++}if(this._ops.edit==true){n-=(parseInt(this._set.editWidth)+1)}n-=e.length;for(var c in e){if(typeof(e[c])["sort"]!="undefined"){this._event.sortable=true;break}}for(var c in e){var u=e[c];l=r[c].name;f=a.insertCell(-1);setStyle(f,{textAlign:"center",padding:parseFloat(this._ops.headpadding)+"px"});if(typeof u.width!="undefined"){o=parseInt(u.width/t*n);h[c]=(h[c]==undefined?{}:h[c]);h[c].width=o;setStyle(f,{width:o+"px"})}if(b==undefined){b=f.offsetHeight}if(true==this._event.sortable){d=el("div");d.className="dataGridSortDiv";f.appendChild(d);g=el("label");if(this._ops.sortName==l){g.className="dataGridSortLbl dataGridSortLblHv"}else{g.className="dataGridSortLbl dataGridSortLblDe"}g.style.lineHeight=b+"px";g.innerHTML=u.field;d.appendChild(g);q=el("i");if(this._ops.sortName==l&&this._ops.sortType=="up"){q.className="dataGridSortArrow dataGridSortUp"}else{q.className="dataGridSortArrow dataGridSortDown"}q.style.display=this._ops.sortName==l?"inline-block":"none";q.sortType=this._ops.sortName==l?this._ops.sortType:"null";d.appendChild(q);m=el("p");if(this._ops.sortName==l){m.className="dataGridSortP dataGridSortPHv"}else{m.className="dataGridSortP dataGridSortPDe"}m.innerHTML="&nbsp;";d.appendChild(m)}else{d=f;f.innerHTML=u.field}if(typeof u.sort!="undefined"){f.style.cursor="pointer";f.onclick=(function(i){return function(){k._sort(this,i)}})(l);f.onmouseover=(function(i){return function(){if(k._event.sortName!=i){this.id=j;$("#"+j+" p.dataGridSortP").css("backgroundColor","#86B157");this.id=""}}})(l);f.onmouseout=(function(i){return function(){if(k._event.sortName!=i){var p="DataGridSortHeadCellId";this.id=p;$("#"+p+" p.dataGridSortP").css("backgroundColor","#E6E6E6");this.id=""}}})(l)}}if(this._ops.edit==true){f=a.insertCell(-1);f.innerHTML=btn.edit;setStyle(f,{width:this._set.editWidth,textAlign:"center"});this._state.colNum++}};DataGrid.prototype._sort=function(d,b){var h=this._table;var g=$("#"+h.id+" i.dataGridSortArrow");var a="DataGridSortHeadCellId";var c,e,i;d.id=a;c=$("#"+a+" i.dataGridSortArrow")[0];if(c.sortType=="null"||c.sortType=="up"){e="down";i="dataGridSortArrow dataGridSortDown"}else{e="up";i="dataGridSortArrow dataGridSortUp"}if(null==this._ops.sortFunc||false==this._ops.sortFunc(b,e)){return}this._event.sortName=b;$("#"+h.id+" p.dataGridSortP").css("backgroundColor","#E6E6E6");$("#"+h.id+" label.dataGridSortLbl").css("color","#737373");g.css("display","none");for(var f in g){g[f].sortType="null"}$("#"+a+" p.dataGridSortP").css("backgroundColor","#86B157");$("#"+a+" label.dataGridSortLbl").css("color","#86B157");c.style.display="inline-block";c.sortType=e;c.className=i;d.id="";this._refresh(this._pgList.page)};DataGrid.prototype._fillDefault=function(){var d=this._ops.list,c,b;for(var a in d){c=d[a];if(c.type==undefined){c.type="str"}if(c.edit==undefined){c.edit=true}if(c.clear==undefined){c.clear=false}}};DataGrid.prototype._headWidthCol=function(){var a=this._ops.head;var b=0,d;if(this._ops.hashead==false){return}for(var c in a){d=a[c].width;if(undefined!=d){b+=d}}this._state.headWidth=b};DataGrid.prototype._optionsInit=function(a){var b;for(var d in a){b=a[d];if(typeof this._ops[d]=="undefined"){continue}if(typeof b=="object"&&!(b instanceof Array)&&this._ops[d]!=null){for(var c in b){this._ops[d][c]=b[c]}}else{this._ops[d]=b}}this._fillDefault();this._headWidthCol()};DataGrid.prototype._getTableObj=function(){this._table=this._ops.obj;if(this._table==null){this._table=id(this._ops.id)}return this._table};DataGrid.prototype._tableSet=function(){var a=this._set;if(a.styles!=null){if(typeof a.styles=="string"){this._table.className+=a.styles}else{setStyle(this._table,a.styles)}}if(this._ops.fixed==true){setStyle(this._table,{tableLayout:"fixed"})}};DataGrid.prototype._IESixResize=function(){if(isIESix==true&&typeof highSetAutoFit!="undefined"){highSetAutoFit()}};DataGrid.prototype._pageList=function(a,d){var g=this._table,e=g.parentNode;var h=el("div"),c=this._ops.paging;var b=this._ops.id+"pagIngList";var f;d=(d==undefined?1:d);d=(d<1?1:d);if(this._pgList.id.length==0){this._pgList.id=h.id=b;h.className="pageListPo";if(null!=this._ops.toolBar){f=id(this._ops.toolBar.id)}if(null!=f){e.insertBefore(h,f)}else{e.appendChild(h)}this._pgList.obj=h;h.style.overflow="hidden"}this._cleanList(b);this._fillList(b,d,c.num,this._ops.id,a)};DataGrid.prototype._changeTable=function(b,l){var n=this._table.rows;var m=n.length;var a=(this._ops.hasHead==true?(b+1):b);var f=(this._ops.hasHead==true?b:(b-1));var o=0,c=false;var h=this._ops.list;var e=this._ops.data;var c=this._editable(),g=0;var p=0,j;this._pgList.page=parseInt(a/l)+1;g=(this._ops.hasHead==true?m-1:m);p=(this._eventStateGet()=="add"?-1:0);g+=p;if(true==isIE){if(true==isIENormal){j="table-row"}else{j="block"}}else{j="table-row"}for(var d=(this._ops.hasHead==true?1:0);d<m;d++){var k=n[d];if(d<a||d>(f+l)){k.style.display="none"}else{if(k.cells.length==1){k.deleteCell(0);o=g-d-p;this._contentFill(k,h,c,o,e[o],g)}k.style.display=j}}if(this._ops.hasSelBox==true){if(this._ops.hasHead==true){n[0].cells[0].childNodes[0].checked=false}this._selectAll()}this._IESixResize()};DataGrid.prototype._changeListDiv=function(f,c){var b=96;var d=id(f).childNodes.length;var e=d*19,g=0;if(isIESix==true){var a=$("#"+this._ops.id+"pagIngList div."+this._pgList.plcClassName)[0];c=c>0?c:-1*c;g=e-c;a.style.width=g<b?g+"px":b+"px"}};DataGrid.prototype._listNodeClick=function(j,k,m,t){var n=this;var e=this._pgList.num;var g=k+this._pgList.listDivStr;var w=id(g);var l=k+this._pgList.listArrowRStr;var b=k+this._pgList.listArrowLStr;var q=w.childNodes;var s=q.length;var h=0;var u=0,v=0;var p=w.style.marginLeft;var c=function(){q[j].className=n._pgList.ListSpanSClassName;q[j].style.cursor="default"};var d=function(){u=(n._pgList.listMarginLeft*(e-2)*(((j+1)-e)/(e-2)+1));w.style.marginLeft=-1*u+"px";n._changeListDiv(g,u)};var a=function(){u=(n._pgList.listMarginLeft*(e-2)*(((j+1)-(e-2+1))/(e-2)));w.style.marginLeft=-1*u+"px";n._changeListDiv(g,u)};var f=function(){w.style.marginLeft="0px";n._changeListDiv(g,0)};var o=function(){var i=parseInt((j+1-e)/(e-2));if(j<(e-1)){return}v=e+i*(e-2)-1;u=(n._pgList.listMarginLeft*(e-2)*(((v+1)-e)/(e-2)+1));w.style.marginLeft=-1*u+"px";n._changeListDiv(g,u)};if(q[j].style.cursor=="default"){return}for(var r=0;r<s;r++){if(q[r].style.cursor=="default"){q[r].className=this._pgList.ListSpanClassName;q[r].style.cursor="pointer";h=r;break}}if(j==0){id(b).disabled=true;id(l).disabled=false;c();f()}else{if(j==(s-1)){id(b).disabled=false;id(l).disabled=true;c();o()}else{if((((j+1-e)%(e-2))==0)&&((j+1-e)>=0)){id(b).disabled=false;id(l).disabled=false;c();if(j>h){d()}}else{if((((j+2-e)%(e-2))==0)&&((j+2-e)>=0)){id(b).disabled=false;id(l).disabled=false;c();if(j<h){a()}}else{id(b).disabled=false;id(l).disabled=false;c()}}}}this._changeTable(j*t,t)};DataGrid.prototype._listMove=function(j,a,l,r){var n=this,s;var f=this._pgList.num;var h=j+this._pgList.listDivStr;var k=j+this._pgList.listArrowRStr;var d=j+this._pgList.listArrowLStr;var u=id(h);var o=u.childNodes;var q=o.length;var m=(a==true?1:-1);var g=(a==true?f:f);var t=id(k);var b=id(d);var e=function(){o[p].className=n._pgList.ListSpanClassName;o[p].style.cursor="pointer";o[p+m].className=n._pgList.ListSpanSClassName;o[p+m].style.cursor="default"};var c=function(){var i=n._pgList.listMarginLeft;var v=u.style.marginLeft;if(!v||v=="0px"){s=m*(i*(f-2));n._changeListDiv(h,s);u.style.marginLeft=-1*s+"px"}else{s=parseInt(v)+-1*m*(i*(f-2));n._changeListDiv(h,s);u.style.marginLeft=s+"px"}};if((a==true&&t.disabled==true)||(a==false&&b.disabled==true)){return}for(var p=0;p<q;p++){if(o[p].style.cursor=="default"){if((p==(q-2))&&a){e();t.disabled=a;b.disabled=!a;if((((p+2-f)%(f-2))==0)&&((p+2-f)>=0)){c()}}else{if((p==1)&&!a){e();t.disabled=a;b.disabled=!a}else{if((((p+2-f)%(f-2))==0)&&((p+2-f)>=0)&&a){e();c();t.disabled=!a;b.disabled=!a}else{if((((p+1-f)%(f-2))==0)&&((p+1-f)>=0)&&!a){e();c();t.disabled=a;b.disabled=a}else{e();if(a){b.disabled=!a}else{t.disabled=a}}}}}if(a){this._changeTable((p+1)*r,r)}else{this._changeTable((p-1)*r,r)}return true}}clearSelection()};DataGrid.prototype._fillList=function(a,C,B,m,h){var j=id(a);var c=btn.prePage;var b=btn.nextPage;var p="pageArrow";var z="pageArrowL";var t="pageArrowR";var g="pageArrowFi";var k="pageArrowLa";var e="pageListDiv";var o=h;var y=o/B+((0==o||o%B>0)?1:0);var A=id(m);var x,n=this,f=0,v;if(o<=B){var r=A.rows;id(a).style.display="none";if(true==isIE){if(true==isIENormal){v="table-row"}else{v="block"}}else{v="table-row"}for(x=0,f=r.length;x<f;x++){r[x].style.display=v}this._changeTable(0,B)}else{id(a).style.display="block";var u=document.createElement("span");u.className=p+" "+k;u.id=(a+this._pgList.listArrowRStr);u.onclick=function(){n._listNodeClick(parseInt(y-1),a,m,B)};j.appendChild(u);var D=document.createElement("span");D.className=p+" "+z;D.id=(a+this._pgList.listArrowRStr);D.onclick=function(){n._listMove(a,true,m,B)};j.appendChild(D);var s=document.createElement("div");s.className=this._pgList.plcClassName;j.appendChild(s);var l=document.createElement("div");l.className=e;l.id=(a+this._pgList.listDivStr);s.appendChild(l);for(x=1;x<=y;x++){var w=document.createElement("span");w.innerHTML=x;w.className=this._pgList.ListSpanClassName;w.onclick=(function(i){return function(){n._listNodeClick(i,a,m,B)}})(x-1);l.appendChild(w)}var d=document.createElement("span");d.className=p+" "+t;d.id=(a+this._pgList.listArrowLStr);d.onclick=function(){n._listMove(a,false,m,B)};j.appendChild(d);var q=document.createElement("span");q.className=p+" "+g;q.id=(a+this._pgList.listArrowRStr);q.onclick=function(){n._listNodeClick(0,a,m,B)};j.appendChild(q);this._listNodeClick(C-1,a,m,B)}clearSelection()};DataGrid.prototype._cleanList=function(a){var b=id(a);if(b!=null){b.innerHTML=""}}}};